<!DOCTYPE html>
<html lang="ru">
<head>
  <!-- ===== META ===== -->
  <meta charset="utf-8">
  <title>MeowMapüêæ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- ===== STYLES/ASSETS ===== -->
  <link href="https://unpkg.com/maplibre-gl@2.4.0/dist/maplibre-gl.css" rel="stylesheet"/>
  <link href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" rel="stylesheet"/>

  <style>
    /* ===== –ë–ê–ó–û–í–´–ï –°–¢–ò–õ–ò ===== */
    html,body{height:100%;}
    body{
      margin:0;font-family:sans-serif;
      display:flex;flex-direction:column;
      height:100vh;height:100svh;height:100dvh;
    }
    #controls{
      display:flex;align-items:center;gap:8px;flex-wrap:wrap;
      padding:12px;background:#f7f7f7;border-bottom:1px solid #ccc;
    }
    input[type=date]{font-size:16px;flex:0 0 150px;}
    #logo{height:32px;max-width:100%;}
    #burger{cursor:pointer;font-size:26px;}
    #count{margin-left:8px;font-weight:bold;}
    #layout{flex:1;display:flex;}
    #map{flex:1;width:100%;height:100%;}

    /* ===== SIDEBAR: –±–∞–∑–æ–≤–æ–µ –∑–∞–∫—Ä—ã—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ ===== */
    #sidebar{
      width:300px;background:#fff;overflow-y:auto;
      padding:12px;font-size:14px;border-left:1px solid #ccc;
      position:fixed;right:0;top:0;height:100%;
      transform:translateX(100%);                 /* —Å–∫—Ä—ã—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é */
      transition:transform .3s;
      z-index:999;box-shadow:-4px 0 6px rgba(0,0,0,.15);
    }
    /* –û—Ç–∫—Ä—ã—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ ‚Äî –≥–ª–æ–±–∞–ª—å–Ω–æ */
    #sidebar.open{transform:translateX(0);}

    #sidebar div.item{
      margin-bottom:12px;cursor:pointer;
      border-bottom:1px dashed #ccc;padding-bottom:8px;
    }
    #sidebar div.item:hover{background:#f0f0f0;}
    #closeSidebar{cursor:pointer;font-size:22px;font-weight:bold;}

    /* –ë—É—Ä–≥–µ—Ä —Å–∫—Ä—ã—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –ø–æ–∫–∞–∂–µ–º –≤ –º–µ–¥–∏–∞ */
    #burger{display:none;}

    /* ===== –î–ï–°–ö–¢–û–ü ===== */
    @media (min-width:769px){
      #map{flex:1;}
      /* –í–ê–ñ–ù–û: –Ω–µ —Ç—Ä–æ–≥–∞–µ–º transform/position —É #sidebar –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ */
      #burger{display:block;margin-left:auto;}   /* –±—É—Ä–≥–µ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω –∏ —Ç—É—Ç */
      #count{display:inline;}
    }

    /* ===== –ú–û–ë–ò–õ–ö–ò/–ü–õ–ê–ù–®–ï–¢–´ ===== */
    @media (max-width:768px){
      #layout{flex-direction:column;}
      #burger{display:block;margin-left:auto;}
      #count{display:none;}
      #sidebar{width:80%;max-width:300px;}
      #controls{padding:8px;}
      input[type=date]{font-size:14px;}
      #logo{height:24px;}
    }
  </style>

  <!-- ===== SCRIPTS (defer) ===== -->
  <script defer src="https://unpkg.com/maplibre-gl@2.4.0/dist/maplibre-gl.js"></script>
  <script defer src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script defer src="script.js"></script>
</head>
<body>

  <!-- ===== UI: –ü–ê–ù–ï–õ–¨ –£–ü–†–ê–í–õ–ï–ù–ò–Ø ===== -->
  <div id="controls">
    <label for="event-date">üìÖ</label>
    <input type="date" id="event-date">
    <img id="logo"
         src="https://sun9-81.userapi.com/impf/rcuLPGnzIPly7IQhX6MbA5TICbdWnl6AhMVSXQ/dFRCwb6vi5k.jpg?size=1818x606&quality=95&crop=0,21,1541,513&sign=34cbe06fb366638d9c7ca0693f1f83ef&type=cover_group"
         alt="Meow Records">
    <span id="burger">‚ò∞</span>
    <!-- <span id="count"></span> -->
  </div>

  <!-- ===== LAYOUT: –ö–ê–†–¢–ê ===== -->
  <div id="layout">
    <div id="map"></div>
  </div>

  <!-- ===== –°–ê–ô–î–ë–ê–† ===== -->
  <div id="sidebar">
    <div style="display:flex;justify-content:space-between;align-items:center;">
      <h3 style="margin:0;">–ë–ª–∏–∂–∞–π—à–∏–µ —Å–æ–±—ã—Ç–∏—è</h3>
      <span id="closeSidebar">‚úï</span>
    </div>
    <hr>
    <div id="upcoming"></div>
  </div>
